<form method="post" action="Survey/CreateSurvey">
    @if (User.Identity.IsAuthenticated)
    {
        @for (int i = 0; i < Model.Count; i++)
        {
            <div>
                <input type="hidden" name="QuestionsId[@i]" value="@Model[i].Id" />
                <label>@Model[i].Text</label>
                <ul>
                    @for (int j = 0; j < Model[i].Choices.Count; j++)
                    {
                        <li>
                            <input type="radio" name="CorrectAnswerIndexes[@i]" value="@j" @(j == 0 ? "checked" : "") />
                            @Model[i].Choices[j]
                        </li>
                    }
                </ul>
            </div>
        }
    }
    else
    {
        @for (int i = 0; i < Math.Min(4, Model.Count); i++)
        {
            <div>
                <input type="hidden" name="QuestionsId[@i]" value="@Model[i].Id" />
                <label>@Model[i].Text</label>
                <ul>
                    @for (int j = 0; j < Model[i].Choices.Count; j++)
                    {
                        <li>
                            <input type="radio" name="CorrectAnswerIndexes[@i]" value="@j" @(j == 0 ? "checked" : "") />
                            @Model[i].Choices[j]
                        </li>
                    }
                </ul>
            </div>
        }
    }

    <button class="btn btn-primary" type="submit">Create Survey</button>
</form>
